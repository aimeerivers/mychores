<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <link rel="stylesheet" href="stylesheets/screen.css" type="text/css" media="screen" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
      recaptcha
  </title>
  <script src="javascripts/rounded_corners_lite.inc.js" type="text/javascript"></script>
<style>

</style>
  <script type="text/javascript">
    window.onload = function() {
      settings = {
          tl: { radius: 10 },
          tr: { radius: 10 },
          bl: { radius: 10 },
          br: { radius: 10 },
          antiAlias: true,
          autoPad: true,
          validTags: ["div"]
      }
      var versionBox = new curvyCorners(settings, document.getElementById("version"));
      versionBox.applyCornersToAll();
    }
  </script>
</head>
<body>
<div id="main">

    <h1>recaptcha</h1>
    <div id="version" class="clickable" onclick='document.location = "http://www.loonsoft.com/recaptcha/pkg/gems/recaptcha-0.1.49.gem"; return false'>
      Get Version
      <a href="http://www.loonsoft.com/recaptcha/pkg/gems/recaptcha-0.1.49.gem" class="numbers">0.1.49</a>
    </div>
    <h1>&#x2192; &#8216;recaptcha&#8217;</h1>


	<h2>What</h2>


	<h2>Installing</h2>


<pre>
  gem install --source http://www.loonsoft.com/recaptcha/pkg/ recaptcha
</pre>
<em>Note: the trailing slash on the uri is significant.</em>

	<h2>The basics</h2>


	<p>The ReCaptchaClient abstracts the ReCaptcha <span class="caps">API</span> for use in Rails Applications</p>


	<h2>Demonstration of usage</h2>


	<h3>reCAPTCHA</h3>


	<p>First, create an account at <a href="http://www.recaptcha.net">ReCaptcha.net</a>.</p>


	<p>Get your keys, and make them available as constants in your application. You can do this however you want, but <span class="caps">RCC</span>_PUB, <span class="caps">RCC</span>_PRIV (for regular reCaptcha) and MH_PUB MH_PRIV (for MailHide) must be set to their respective values (the keys you receive from reCaptcha).</p>


	<p>The two common methods of doing this (for Rails applications) are to set these variables in your environment.rb file, or via an environment variable.</p>


The ReCaptchaClient initializer can also take an options hash containing keys thusly:
<pre>
  RecaptchaClient.new(:rcc_pub=&gt;'some key', :rcc_priv=&gt;'some other key')
</pre>

After your keys are configured, require and include the gem into your application.rb, <span class="caps">NOTE</span>: gem is used here, not require
<pre>
gem 'recaptcha'
class ApplicationController &lt; ActionController::Base
  include ReCaptcha::AppHelper
</pre>
 This will mix in validate_recap to your application controller.

Then, in your concrete controller, chain validate_recap into your validation:
<pre>
  def create
      @user = User.new(params[:user])
      if validate_recap(params, @user.errors) &#38;&#38; @user.save
             ...do stuff...
</pre>

Require and include the view helper in your application_helper: <span class="caps">NOTE</span>: require is used here, not gem, not sure why.
<pre>
  require 'recaptcha'
  include ReCaptcha::ViewHelper</pre> 
This will mix in get_captcha().

	<p>Now you can just call <pre>get_captcha()</pre> in your view to insert the requisite widget from ReCaptcha.</p>


	<p>To customize theme and tabindex of the widget, you can include an options hash:</p>


<pre>get_captcha(:options =&gt; {:theme =&gt; 'white', :tabindex =&gt; 10})</pre>

	<p>See the <a href="http://recaptcha.net/apidocs/captcha/">reCAPTCHA <span class="caps">API</span> Documentation</a> under &#8220;Look and Feel Customization&#8221; for more information.</p>


	<h3>Proxy support</h3>


If your rails application requires the use of a proxy, set proxy_host into your environment:
<pre>
  ENV['proxy_host']='foo.example.com:8080'
</pre>

	<h3>Mail Hide</h3>


	<p>When you mix in ViewHelper as above, you also get <pre> mail_hide(address, contents)</pre>, which you can call in your view thusly:</p>


<pre>
  ...
  &lt;%= mail_hide(user.email) %&gt;
</pre>

	<p>Contents defaults to the first few characters of the email address.</p>


	<h2>Forum</h2>


	<p><a href="http://groups.google.com/group/recaptcha">http://groups.google.com/group/recaptcha</a></p>


	<h2>Code</h2>


	<p>Get it <a href="http://hg.loonsoft.com/hg/recaptcha.master">here</a></p>


	<p>You&#8217;ll want <a href="http://www.selenic.com/mercurial">Mercurial</a></p>


	<h2>License</h2>


	<p>This code is free to use under the terms of the <span class="caps">MIT</span> License.</p>


	<h2>Contact</h2>


	<p>Comments are welcome. Send an email to <a href="mailto:mlooney@gmail.com">McClain Looney</a>.</p>


	<p>Contributors:</p>


	<p>Victor Cosby (test cleanup, additional code to style widget)
<br>
Ronald Schroeter (proxy support suggestion &#38; proto-patch)
<br>
Peter Vandenberk (multi-key support, ssl support, various unit tests, test refactoring)
<br>
Kim Griggs (found long address-newline bug)</p>
    <p class="coda">
      Packaged with help from
      <a href="mailto:drnicwilliams@gmail.com">Dr Nic</a>, 7th April 2008<br>
      Theme extended from <a href="http://rb2js.rubyforge.org/">Paul Battley</a>
    </p>
</div>

<!-- insert site tracking codes here, like Google Urchin -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
  _uacct = "UA-755912-4";
  urchinTracker();
</script>
</body>
</html>
